{"version":3,"file":"install.js","sources":["../src/install.ts"],"sourcesContent":["import { ShaderSystem, utils } from '@pixi/core';\nimport { syncUniforms } from './syncUniforms';\n\nimport type { Program, UniformGroup } from '@pixi/core';\n\ninterface PIXICore\n{\n    ShaderSystem: typeof ShaderSystem;\n}\n\n/**\n * Apply the no `new Function` patch to ShaderSystem in `@pixi/core`.\n * `@pixi/unsafe-eval` is self-installed since 7.1.0, so this function no longer needs to be called manually.\n * @param _core\n * @deprecated since 7.1.0\n */\nexport function install(_core: PIXICore): void\n{\n    if (process.env.DEBUG)\n    {\n        utils.deprecation('7.1.0', 'install() has been deprecated, @pixi/unsafe-eval is self-installed since 7.1.0');\n    }\n}\n\n/**\n * Apply the no `new Function` patch to ShaderSystem in `@pixi/core`.\n * @private\n * @since 7.1.0\n */\nfunction selfInstall(): void\n{\n    Object.assign(ShaderSystem.prototype,\n        {\n            systemCheck()\n            {\n                // Do nothing, don't throw error\n            },\n            syncUniforms(group: UniformGroup, glProgram: Program)\n            {\n                const { shader, renderer } = (this as any);\n\n                syncUniforms(\n                    group,\n                    shader.program.uniformData,\n                    glProgram.uniformData,\n                    group.uniforms,\n                    renderer\n                );\n            },\n        }\n    );\n}\n\nselfInstall();\n"],"names":["utils","ShaderSystem","syncUniforms"],"mappings":";;AAgBO,SAAS,QAAQ,OACxB;AAGcA,OAAAA,MAAA,YAAY,SAAS,gFAAgF;AAEnH;AAOA,SAAS,cACT;AACW,SAAA;AAAA,IAAOC,KAAAA,aAAa;AAAA,IACvB;AAAA,MACI,cACA;AAAA,MAEA;AAAA,MACA,aAAa,OAAqB,WAClC;AACU,cAAA,EAAE,QAAQ,SAAc,IAAA;AAE9BC,qBAAA;AAAA,UACI;AAAA,UACA,OAAO,QAAQ;AAAA,UACf,UAAU;AAAA,UACV,MAAM;AAAA,UACN;AAAA,QAAA;AAAA,MAER;AAAA,IACJ;AAAA,EAAA;AAER;AAEA,YAAY;;"}